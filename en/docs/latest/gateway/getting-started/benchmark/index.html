<!DOCTYPE html>
<html lang="en" dir=>

<head>
  <meta name="generator" content="Hugo 0.79.1" />
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no">
<meta name="description" content="Benchmark Testing #  You are advised to use the Elasticsearch-dedicated benchmark tool Loadgen to test the gateway performance.
Highlights of Loadgen:
 Robust performance Lightweight and dependency-free Random selection of template-based parameters High concurrency Balanced traffic control at the benchmark end   Download URL: http://release.infinilabs.com/loadgen/
 Loadgen #  Loadgen is easy to use. After the tool is downloaded and decompressed, two files are obtained: one executable program and one configuration file loadgen.">
<meta name="theme-color" content="#FFFFFF"><meta property="og:title" content="Benchmark Testing" />
<meta property="og:description" content="Benchmark Testing #  You are advised to use the Elasticsearch-dedicated benchmark tool Loadgen to test the gateway performance.
Highlights of Loadgen:
 Robust performance Lightweight and dependency-free Random selection of template-based parameters High concurrency Balanced traffic control at the benchmark end   Download URL: http://release.infinilabs.com/loadgen/
 Loadgen #  Loadgen is easy to use. After the tool is downloaded and decompressed, two files are obtained: one executable program and one configuration file loadgen." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/en/docs/latest/gateway/getting-started/benchmark/" />

<title>Benchmark Testing | INFINI Labs</title>
<link rel="manifest" href="/manifest.json">
<link rel="icon" href="/favicon.png" type="image/x-icon">
<link rel="alternate" hreflang="zh" href="/docs/latest/gateway/getting-started/benchmark/" title="性能测试">

<link rel="stylesheet" href="/book.min.bcadf4033b2252dab4049fde8573c3463e8a6e7631793c2a9caa2f0f7a609c4e.css" integrity="sha256-vK30AzsiUtq0BJ/ehXPDRj6KbnYxeTwqnKovD3pgnE4=">
<link rel="stylesheet" href="/infini.min.405c91a9e57eb21831efb090ad1ead44dfc1b6b5324bf7d9d23bbe808ff2b085.css" integrity="sha256-QFyRqeV&#43;shgx77CQrR6tRN/BtrUyS/fZ0ju&#43;gI/ysIU=">
<script defer src="/en.search.min.6e5b7b9e401d0b2a73de5a0f483cba140cbe0fa534ef3e74c41613fc3087ad83.js" integrity="sha256-blt7nkAdCypz3loPSDy6FAy&#43;D6U07z50xBYT/DCHrYM="></script>






<script type="text/javascript"  src="/js/jquery-2.x.min.js"></script>
<script defer src="/js/doc.js"></script>

  
</head>

<body dir=>

  <div class="common-header resize-padding">
    <a class="logo" href="/">
        <img src="/img/header/logo.svg" />
        <img class="moblie" src="/img/header/mobile-logo.svg" />
    </a>
    <div class="nav">
        <ul>
            
            <li class="menu ">
                <a class="menu-item" href="/">
                    首页
                </a>
                
            </li>
            
            <li class="menu sub-menu">
                <a class="menu-item" >
                    产品
                </a>
                
                <div class="sub-menu-content-wrap">
                    <div class="sub-menu-content">
                        
                        <a class="sub-menu-item" href="/">
                            
                                <div class="logo">
                                    <img src="/img/header/infini-search.svg"/>
                                </div>
                            
                            
                                <div class="desc">
                                    INFINI SEARCH PLATFORM
                                </div>
                            
                        </a>
                        
                        <a class="sub-menu-item" href="/products/console">
                            
                                <div class="name">
                                    INFINI Console
                                </div>
                            
                            
                                <div class="desc">
                                    一站式数据搜索分析与管理平台
                                </div>
                            
                        </a>
                        
                        <a class="sub-menu-item" href="/products/gateway">
                            
                                <div class="name">
                                    INFINI Gateway
                                </div>
                            
                            
                                <div class="desc">
                                    面向搜索场景的高性能网关
                                </div>
                            
                        </a>
                        
                    </div>
                </div>
                
            </li>
            
            <li class="menu ">
                <a class="menu-item" href="/pricing">
                    报价
                </a>
                
            </li>
            
            <li class="menu ">
                <a class="menu-item" href="/support">
                    文档
                </a>
                
            </li>
            
            <li class="menu ">
                <a class="menu-item" href="/download">
                    下载
                </a>
                
            </li>
            
            <li class="menu ">
                <a class="menu-item" href="/company">
                    关于
                </a>
                
            </li>
            
            <li class="menu lang">
                <a class="menu-item">
                    <img src="/img/header/lang.svg" />
                    <span>&nbsp;中文</span>
                </a>
            </li>
        </ul>
    </div>
    <div class="mobile-nav">
        <img 
            id="mobile-nav-menu-icon" 
            class="menu-icon" 
            onclick="onMenuTouch(true)" 
            src="/img/header/mobile-menu.svg"
        />
        <img 
            id="mobile-nav-menu-close-icon" 
            class="menu-icon close" 
            onclick="onMenuTouch(false)"
            src="/img/header/mobile-menu-close.svg"
        />
        <div id="mobile-nav-menu" class="menu">
            
                <a 
                    class="item" 
                    href="/"
                    onclick=""
                >
                    首页
                    
                </a>
                
            
                <a 
                    class="item" 
                    href="#"
                    onclick="onMenuCollapse(&#34;/products&#34;)"
                >
                    产品
                    
                    <img 
                        id="mobile-nav-menu-item-arrow" 
                        src="/img/header/mobile-menu-right.svg" 
                        data-active="false"
                    />
                    
                </a>
                
                    <div id="/products-sub-menu" class="sub-menu">
                        
                            <a class="sub-item" href="/">
                                INFINI Search
                            </a>
                        
                            <a class="sub-item" href="/products/console">
                                INFINI Console
                            </a>
                        
                            <a class="sub-item" href="/products/gateway">
                                INFINI Gateway
                            </a>
                        
                    </div>
                
            
                <a 
                    class="item" 
                    href="/pricing"
                    onclick=""
                >
                    报价
                    
                </a>
                
            
                <a 
                    class="item" 
                    href="/support"
                    onclick=""
                >
                    文档
                    
                </a>
                
            
                <a 
                    class="item" 
                    href="/download"
                    onclick=""
                >
                    下载
                    
                </a>
                
            
                <a 
                    class="item" 
                    href="/company"
                    onclick=""
                >
                    关于
                    
                </a>
                
            
        </div>
    </div>
</div>
<script>
    function onMenuTouch(visible) {
        const menu = document.getElementById("mobile-nav-menu");
        const menuIcon = document.getElementById("mobile-nav-menu-icon");
        const closeIcon = document.getElementById("mobile-nav-menu-close-icon");
        if (visible) {
            menuIcon.style.display = 'none';
            closeIcon.style.display = 'block';
            menu.style.display = 'block';
        } else {
            menuIcon.style.display = 'block';
            closeIcon.style.display = 'none';
            menu.style.display = 'none';
        }
    }
    function onMenuCollapse(href) {
        const arrow = document.getElementById("mobile-nav-menu-item-arrow");
        const subMenu = document.getElementById(`${href}-sub-menu`);
        if (arrow.getAttribute("data-active") === "true") {
            arrow.setAttribute("data-active", "false")
            arrow.setAttribute("src", "/img/header/mobile-menu-right.svg")
            subMenu.style.display="none"
        } else {
            arrow.setAttribute("data-active", "true")
            arrow.setAttribute("src", "/img/header/mobile-menu-bottom.svg")
            subMenu.style.display="block"
        }
    }
</script>

  <div class="docs resize-padding">
    <input type="checkbox" class="hidden toggle" id="menu-control" />
    <input type="checkbox" class="hidden toggle" id="toc-control" />
    <main class="container">
      <aside class="book-menu">
        
  <nav>
  

  
<div class="book-search">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>



  <div class="heading">
  <select class="version-selector">
    
      
        
        
          
          <option value="latest">latest</option>
        
      
    
  </select>
</div>


  
  





  
  





  
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-4616d45630e8955d56bb01dff137c835" class="toggle" checked />
    <label for="section-4616d45630e8955d56bb01dff137c835" class="flex" style="align-items: center;" onclick="onDocsMenuClick('section-4616d45630e8955d56bb01dff137c835')">
      <span style="margin-right: 3px">
        <img id="section-4616d45630e8955d56bb01dff137c835-arrow" src="/img/docs/arrow-down.png"/>
      </span>
      <a href="/en/docs/latest/gateway/" class="">INFINI Gateway</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/overview/" class="">Overview</a>
    </label>
  

          
  <ul>
    
      
    
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-ca450a18766cdab3c2f7f6e45ea0fd7f" class="toggle" checked />
    <label for="section-ca450a18766cdab3c2f7f6e45ea0fd7f" class="flex" style="align-items: center;" onclick="onDocsMenuClick('section-ca450a18766cdab3c2f7f6e45ea0fd7f')">
      <span style="margin-right: 3px">
        <img id="section-ca450a18766cdab3c2f7f6e45ea0fd7f-arrow" src="/img/docs/arrow-down.png"/>
      </span>
      <a  class="">Quick Start</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/getting-started/install/" class="">Installing the Gateway</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/getting-started/configuration/" class="">Configuring the Gateway</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/getting-started/docker/" class="">Container Deployment</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/getting-started/optimization/" class="">System Optimization</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/getting-started/benchmark/" class=" active">Benchmark Testing</a>
    </label>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-05a026bf584b9f1242a1e8c2912be5ac" class="toggle"  />
    <label for="section-05a026bf584b9f1242a1e8c2912be5ac" class="flex" style="align-items: center;" onclick="onDocsMenuClick('section-05a026bf584b9f1242a1e8c2912be5ac')">
      <span style="margin-right: 3px">
        <img id="section-05a026bf584b9f1242a1e8c2912be5ac-arrow" src="/img/docs/arrow-right.png"/>
      </span>
      <a  class="">Reference</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/references/entry/" class="">Service Entry</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/references/router/" class="">Service Router</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/references/flow/" class="">Handling Flow</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/references/elasticsearch/" class="">Elasticsearch</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/references/context/" class="">Request Context</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-5dd453f1fbec65f01797bcc920dfc980" class="toggle"  />
    <label for="section-5dd453f1fbec65f01797bcc920dfc980" class="flex" style="align-items: center;" onclick="onDocsMenuClick('section-5dd453f1fbec65f01797bcc920dfc980')">
      <span style="margin-right: 3px">
        <img id="section-5dd453f1fbec65f01797bcc920dfc980-arrow" src="/img/docs/arrow-right.png"/>
      </span>
      <a href="/en/docs/latest/gateway/references/filters/" class="">Online Filter</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/references/filters/echo/" class="">echo</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/references/filters/basic_auth/" class="">basic_auth</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/references/filters/bulk_request_mutate/" class="">bulk_request_mutate</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/references/filters/bulk_reshuffle/" class="">bulk_reshuffle</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/references/filters/bulk_response_process/" class="">bulk_response_process</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/references/filters/cache/" class="">cache</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/references/filters/clone/" class="">clone</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/references/filters/context_filter/" class="">context_filter</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/references/filters/context_limiter/" class="">context_limiter</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/references/filters/context_regex_replace/" class="">context_regex_replace</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/references/filters/date_range_precision_tuning/" class="">date_range_precision_tuning</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/references/filters/drop/" class="">drop</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/references/filters/dump/" class="">dump</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/references/filters/elasticsearch/" class="">elasticsearch</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/references/filters/elasticsearch_health_check/" class="">elasticsearch_health_check</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/references/filters/flow/" class="">flow</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/references/filters/http/" class="">http</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/references/filters/javascript/" class="">javascript</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/references/filters/ldap_auth/" class="">ldap_auth</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/references/filters/logging/" class="">logging</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/references/filters/queue/" class="">queue</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/references/filters/ratio/" class="">ratio</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/references/filters/record/" class="">record</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/references/filters/redirect/" class="">redirect</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/references/filters/redis_pubsub/" class="">redis_pubsub</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/references/filters/request_api_key_filter/" class="">request_api_key_filter</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/references/filters/request_api_key_limiter/" class="">request_api_key_limiter</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/references/filters/request_body_json_del/" class="">request_body_json_del</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/references/filters/request_body_json_set/" class="">request_body_json_set</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/references/filters/request_body_regex_replace/" class="">request_body_regex_replace</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/references/filters/request_client_ip_filter/" class="">request_client_ip_filter</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/references/filters/request_client_ip_limiter/" class="">request_client_ip_limiter</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/references/filters/request_header_filter/" class="">request_header_filter</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/references/filters/request_host_filter/" class="">request_host_filter</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/references/filters/request_host_limiter/" class="">request_host_limiter</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/references/filters/request_method_filter/" class="">request_method_filter</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/references/filters/request_path_filter/" class="">request_path_filter</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/references/filters/request_path_limiter/" class="">request_path_limiter</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/references/filters/request_user_filter/" class="">request_user_filter</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/references/filters/request_user_limiter/" class="">request_user_limiter</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/references/filters/response_body_regex_replace/" class="">response_body_regex_replace</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/references/filters/response_header_filter/" class="">response_header_filter</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/references/filters/response_header_format/" class="">response_header_format</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/references/filters/response_status_filter/" class="">response_status_filter</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/references/filters/retry_limiter/" class="">retry_limiter</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/references/filters/sample/" class="">sample</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/references/filters/set_basic_auth/" class="">set_basic_auth</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/references/filters/set_context/" class="">set_context</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/references/filters/set_hostname/" class="">set_hostname</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/references/filters/set_request_header/" class="">set_request_header</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/references/filters/set_request_query_args/" class="">set_request_query_args</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/references/filters/set_response/" class="">set_response</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/references/filters/set_response_header/" class="">set_response_header</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/references/filters/sleep/" class="">sleep</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/references/filters/switch/" class="">switch</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/references/filters/translog/" class="">translog</a>
    </label>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-103a5936120880cd795a0929db3146d3" class="toggle"  />
    <label for="section-103a5936120880cd795a0929db3146d3" class="flex" style="align-items: center;" onclick="onDocsMenuClick('section-103a5936120880cd795a0929db3146d3')">
      <span style="margin-right: 3px">
        <img id="section-103a5936120880cd795a0929db3146d3-arrow" src="/img/docs/arrow-right.png"/>
      </span>
      <a href="/en/docs/latest/gateway/references/processors/" class="">Offline Processor</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/references/processors/bulk_indexing/" class="">bulk_indexing</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/references/processors/dag/" class="">dag</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/references/processors/dump_hash/" class="">dump_hash</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/references/processors/flow_runner/" class="">flow_runner</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/references/processors/index_diff/" class="">index_diff</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/references/processors/indexing_merge/" class="">indexing_merge</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/references/processors/json_indexing/" class="">json_indexing</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/references/processors/queue_consumer/" class="">queue_consumer</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/references/processors/replay/" class="">replay</a>
    </label>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-33bfbb089d34add70f0cf8c1bbb737ca" class="toggle"  />
    <label for="section-33bfbb089d34add70f0cf8c1bbb737ca" class="flex" style="align-items: center;" onclick="onDocsMenuClick('section-33bfbb089d34add70f0cf8c1bbb737ca')">
      <span style="margin-right: 3px">
        <img id="section-33bfbb089d34add70f0cf8c1bbb737ca-arrow" src="/img/docs/arrow-right.png"/>
      </span>
      <a  class="">Functional Component</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/references/modules/floating_ip/" class="">Floating IP</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/references/modules/force_merge/" class="">Index Segment Merging</a>
    </label>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/references/config/" class="">Other Configuration</a>
    </label>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-715dfb189dadb35e167d8bbe4be8a0de" class="toggle"  />
    <label for="section-715dfb189dadb35e167d8bbe4be8a0de" class="flex" style="align-items: center;" onclick="onDocsMenuClick('section-715dfb189dadb35e167d8bbe4be8a0de')">
      <span style="margin-right: 3px">
        <img id="section-715dfb189dadb35e167d8bbe4be8a0de-arrow" src="/img/docs/arrow-right.png"/>
      </span>
      <a  class="">Development</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-12cdfae9d2d2403beef257d78221dada" class="toggle"  />
    <label for="section-12cdfae9d2d2403beef257d78221dada" class="flex" style="align-items: center;" onclick="onDocsMenuClick('section-12cdfae9d2d2403beef257d78221dada')">
      <span style="margin-right: 3px">
        <img id="section-12cdfae9d2d2403beef257d78221dada-arrow" src="/img/docs/arrow-right.png"/>
      </span>
      <a  class="">API Manual</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-b108b5500f0312aa3f979f4f88301810" class="toggle"  />
    <label for="section-b108b5500f0312aa3f979f4f88301810" class="flex" style="align-items: center;" onclick="onDocsMenuClick('section-b108b5500f0312aa3f979f4f88301810')">
      <span style="margin-right: 3px">
        <img id="section-b108b5500f0312aa3f979f4f88301810-arrow" src="/img/docs/arrow-right.png"/>
      </span>
      <a  class="">Plug-in Development</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-fa1be11a429200bbbced085f652455ec" class="toggle"  />
    <label for="section-fa1be11a429200bbbced085f652455ec" class="flex" style="align-items: center;" onclick="onDocsMenuClick('section-fa1be11a429200bbbced085f652455ec')">
      <span style="margin-right: 3px">
        <img id="section-fa1be11a429200bbbced085f652455ec-arrow" src="/img/docs/arrow-right.png"/>
      </span>
      <a  class="">Tutorials</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/tutorial/log4j2_filtering/" class="">Protect Elasticsearch from Apache Log4j Vulnerability</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/tutorial/online_query_rewrite/" class="">Rewrite Your Elasticsearch Requests OnTheFly</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/tutorial/request-logging/" class="">Elasticsearch Search Requests Analysis/Audit</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/tutorial/index_diff/" class="">Document-Level Index Diff Between Two Elasticsearch Clusters</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/tutorial/proxy_kibana/" class="">Adding a TLS and Basic Security for Kibana</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/tutorial/proxy_elasticsearch/" class="">Enable HTTPS/TLS &#43; Basic Auth for Elasticsearch easily</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/tutorial/fix_count_in_search_response/" class="">Handle Count Structure of Different Elasticsearch Versions</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/tutorial/es-hadoop_integration/" class="">Integrate with Elasticsearch-Hadoop</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/tutorial/prometheus_integration/" class="">Integration with Prometheus</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/tutorial/routing_to_cluser_by_index/" class="">Unified access indexes from different clusters in Kibana</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/tutorial/path_rewrite_by_javascript/" class="">Use JavaScript for complex query rewriting</a>
    </label>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-fda12f0081216dc7e8fb0ff3676d3b34" class="toggle"  />
    <label for="section-fda12f0081216dc7e8fb0ff3676d3b34" class="flex" style="align-items: center;" onclick="onDocsMenuClick('section-fda12f0081216dc7e8fb0ff3676d3b34')">
      <span style="margin-right: 3px">
        <img id="section-fda12f0081216dc7e8fb0ff3676d3b34-arrow" src="/img/docs/arrow-right.png"/>
      </span>
      <a href="/en/docs/latest/gateway/user-cases/" class="">User Cases</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/user-cases/stories/indexing_speedup_for_big_index_rebuild/" class="">How an Insurance Group Improved the Indexing Speed by 200x Times</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/user-cases/stories/a_cross_region_cluster_access_locality/" class="">Nearest Cluster Access Across Two Cloud Providers</a>
    </label>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/troubleshooting/" class="">FAQs</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/release-notes/" class="">Release Notes</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/gateway/resources/" class="">Other Resources</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-5178456a1cbc2539cefefbad5a3d2c59" class="toggle"  />
    <label for="section-5178456a1cbc2539cefefbad5a3d2c59" class="flex" style="align-items: center;" onclick="onDocsMenuClick('section-5178456a1cbc2539cefefbad5a3d2c59')">
      <span style="margin-right: 3px">
        <img id="section-5178456a1cbc2539cefefbad5a3d2c59-arrow" src="/img/docs/arrow-right.png"/>
      </span>
      <a href="/en/docs/latest/console/" class="">INFINI Console</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-8286e9a0e7e6e51137a485dda4a719bf" class="toggle"  />
    <label for="section-8286e9a0e7e6e51137a485dda4a719bf" class="flex" style="align-items: center;" onclick="onDocsMenuClick('section-8286e9a0e7e6e51137a485dda4a719bf')">
      <span style="margin-right: 3px">
        <img id="section-8286e9a0e7e6e51137a485dda4a719bf-arrow" src="/img/docs/arrow-right.png"/>
      </span>
      <a  class="">Quick Start</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/console/getting-started/install/" class="">Installation</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/console/getting-started/ilm/" class="">Index Settings</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/console/getting-started/docker/" class="">Docker</a>
    </label>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-dbbcdb8f5353d3ea7d8269a7ae1da12f" class="toggle"  />
    <label for="section-dbbcdb8f5353d3ea7d8269a7ae1da12f" class="flex" style="align-items: center;" onclick="onDocsMenuClick('section-dbbcdb8f5353d3ea7d8269a7ae1da12f')">
      <span style="margin-right: 3px">
        <img id="section-dbbcdb8f5353d3ea7d8269a7ae1da12f-arrow" src="/img/docs/arrow-right.png"/>
      </span>
      <a  class="">Reference</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-6436e4991d731941a4d0e281d4856375" class="toggle"  />
    <label for="section-6436e4991d731941a4d0e281d4856375" class="flex" style="align-items: center;" onclick="onDocsMenuClick('section-6436e4991d731941a4d0e281d4856375')">
      <span style="margin-right: 3px">
        <img id="section-6436e4991d731941a4d0e281d4856375-arrow" src="/img/docs/arrow-right.png"/>
      </span>
      <a  class="">Alerting</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/console/reference/alerting/message/" class="">Alerting Center</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/console/reference/alerting/rule/" class="">Alerting Rules</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/console/reference/alerting/channel/" class="">Alerting Channels</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/console/reference/alerting/variables/" class="">Template variables</a>
    </label>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/console/reference/initialization/" class="">Initialization Guide</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-84408b883ce772abccd396f1a36e3244" class="toggle"  />
    <label for="section-84408b883ce772abccd396f1a36e3244" class="flex" style="align-items: center;" onclick="onDocsMenuClick('section-84408b883ce772abccd396f1a36e3244')">
      <span style="margin-right: 3px">
        <img id="section-84408b883ce772abccd396f1a36e3244-arrow" src="/img/docs/arrow-right.png"/>
      </span>
      <a  class="">Platform</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/console/reference/platform/overview/" class="">Platform Overview</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/console/reference/platform/monitoring/" class="">Cluster Monitoring</a>
    </label>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-dffa2b897817613f204cce2b718f8bbb" class="toggle"  />
    <label for="section-dffa2b897817613f204cce2b718f8bbb" class="flex" style="align-items: center;" onclick="onDocsMenuClick('section-dffa2b897817613f204cce2b718f8bbb')">
      <span style="margin-right: 3px">
        <img id="section-dffa2b897817613f204cce2b718f8bbb-arrow" src="/img/docs/arrow-right.png"/>
      </span>
      <a href="/en/docs/latest/console/reference/data/" class="">Data</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/console/reference/data/indices/" class="">Index Management</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/console/reference/data/alias/" class="">Alias Management</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/console/reference/data/view/" class="">Data View</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/console/reference/data/discover/" class="">Discover</a>
    </label>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/console/reference/devtool/" class="">Dev Tools</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-667b57d8ae873257aab4220429d975fc" class="toggle"  />
    <label for="section-667b57d8ae873257aab4220429d975fc" class="flex" style="align-items: center;" onclick="onDocsMenuClick('section-667b57d8ae873257aab4220429d975fc')">
      <span style="margin-right: 3px">
        <img id="section-667b57d8ae873257aab4220429d975fc-arrow" src="/img/docs/arrow-right.png"/>
      </span>
      <a  class="">System</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/console/reference/system/cluster/" class="">Cluster Management</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/console/reference/system/command/" class="">Common Commands</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-c7bebc8f98fcaa08dd4f75f9eb95f908" class="toggle"  />
    <label for="section-c7bebc8f98fcaa08dd4f75f9eb95f908" class="flex" style="align-items: center;" onclick="onDocsMenuClick('section-c7bebc8f98fcaa08dd4f75f9eb95f908')">
      <span style="margin-right: 3px">
        <img id="section-c7bebc8f98fcaa08dd4f75f9eb95f908-arrow" src="/img/docs/arrow-right.png"/>
      </span>
      <a href="/en/docs/latest/console/reference/system/security/" class="">Security</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/console/reference/system/security/role/" class="">Role</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/console/reference/system/security/user/" class="">User</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/console/reference/system/security/settings/" class="">Settings</a>
    </label>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-41ac5e62f76e0ab83678c61a610393a3" class="toggle"  />
    <label for="section-41ac5e62f76e0ab83678c61a610393a3" class="flex" style="align-items: center;" onclick="onDocsMenuClick('section-41ac5e62f76e0ab83678c61a610393a3')">
      <span style="margin-right: 3px">
        <img id="section-41ac5e62f76e0ab83678c61a610393a3-arrow" src="/img/docs/arrow-right.png"/>
      </span>
      <a  class="">Agent</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/console/reference/agent/manage/manage/" class="">Overview</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/console/reference/agent/install/" class="">Installing Agent</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/console/reference/agent/docker/" class="">Container Deployment</a>
    </label>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/console/screenshots/" class="">Screenshots</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-0485a68023e454463868fa634c87f75c" class="toggle"  />
    <label for="section-0485a68023e454463868fa634c87f75c" class="flex" style="align-items: center;" onclick="onDocsMenuClick('section-0485a68023e454463868fa634c87f75c')">
      <span style="margin-right: 3px">
        <img id="section-0485a68023e454463868fa634c87f75c-arrow" src="/img/docs/arrow-right.png"/>
      </span>
      <a  class="">Tutorials</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/console/tutorials/start_with_specify_user/" class="">How to specify built-in account name and password to start INFINI Console</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/console/tutorials/create_readonly_account/" class="">How to easily create an Elasticsearch &#34;guest&#34; user</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/console/tutorials/role_with_different_rights/" class="">How to assign different Elasticsearch cluster access permissions to different INFINI Console accounts</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/console/tutorials/role_with_index_limit/" class="">How to assign Elasticsearch index-level permissions to INFINI Console accounts</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/console/tutorials/cluster_health_change/" class="">How to Monitor Elasticsearch Cluster Health</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/console/tutorials/cluster_node_disk_usage/" class="">How to monitor Elasticsearch cluster node disk usage</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/console/tutorials/cluster_slow_request/" class="">How to monitor slow query requests in Elasticsearch</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/console/tutorials/cluster_node_cpu_usage/" class="">How to monitor the CPU usage of Elasticsearch cluster nodes</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/console/tutorials/cluster_node_jvm_usage/" class="">How to monitor JVM usage of Elasticsearch cluster nodes</a>
    </label>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/console/user-cases/" class="">User Cases</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/console/troubleshooting/" class="">FAQs</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/console/release-notes/" class="">Release Notes</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/console/upgrade/" class="">Upgrade</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/console/resources/" class="">Other Resources</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <label class="flex" style="align-items: center;">
      <span style="margin-right: 3px">
          <img src="/img/docs/point.png"/>
      </span>
      <a href="/en/docs/latest/release-notes/" class="">Release notes</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
  </ul>







  

  




  


  


  

  


  


<div class="book-languages" tabindex="0" aria-haspopup="true">
  <ul>
    <li class="flex align-center">
      <img src="/svg/translate.svg" class="book-icon" alt="Languages" />
      English
    </li> 
  </ul>

  <ul class="book-languages-list">
    
    <li class="">
      <a href="/docs/latest/gateway/getting-started/benchmark/" class="flex align-center">
        <img src="/svg/translate.svg" class="book-icon" alt="Languages" />
        简体中文
      </a>
    </li>
    
    <li class="active">
      <a href="/en/" class="flex align-center">
        <img src="/svg/translate.svg" class="book-icon" alt="Languages" />
        English
      </a>
    </li>
    
  </ul>
</div>

  

  


</nav>




<script>(function(){var menu=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(event){localStorage.setItem("menu.scrollTop",menu.scrollTop);});menu.scrollTop=localStorage.getItem("menu.scrollTop");})();</script>


 
      </aside>

      <div class="book-page">
        <header class="book-header">
          
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>Benchmark Testing</strong>

  <label for="toc-control">
    
    <img src="/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  <nav id="TableOfContents">
  <ul>
    <li><a href="#benchmark-testing">Benchmark Testing</a>
      <ul>
        <li><a href="#loadgen">Loadgen</a>
          <ul>
            <li><a href="#use-of-variables">Use of Variables</a></li>
            <li><a href="#request-definition">Request Definition</a></li>
            <li><a href="#cli-parameters">CLI Parameters</a></li>
            <li><a href="#benchmark-test">Benchmark Test</a></li>
            <li><a href="#simulating-bulk-ingestion">Simulating Bulk Ingestion</a></li>
            <li><a href="#limiting-the-client-workload">Limiting the Client Workload</a></li>
            <li><a href="#limiting-the-total-number-of-requests">Limiting the Total Number of Requests</a></li>
            <li><a href="#using-auto-incremental-ids-to-ensure-the-document-sequence">Using Auto Incremental IDs to Ensure the Document Sequence</a></li>
            <li><a href="#reuse-variables-in-request-context">Reuse variables in Request Context</a></li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav>


  </aside>
  
 
        </header>

        <div  class="infini-breadcrumb">
    
    
        
    
        
    
        
    
        
    
        
    
    

    
    

    
    
    <span>></span>
        
            Docs
        
    

    
    
    <span>></span>
        
            <a href="/en/docs/latest/gateway/">INFINI Gateway</a>
        
    

    
    
    <span>></span>
        
            Quick Start
        
    

    
    
    <span>></span>
        
            <a href="/en/docs/latest/gateway/getting-started/benchmark/">Benchmark Testing</a>
        
    

</div>


        
  <article class="markdown"><h1 id="benchmark-testing">
  Benchmark Testing
  <a class="anchor" href="#benchmark-testing">#</a>
</h1>
<p>You are advised to use the Elasticsearch-dedicated benchmark tool <code>Loadgen</code> to test the gateway performance.</p>
<p>Highlights of Loadgen:</p>
<ul>
<li>Robust performance</li>
<li>Lightweight and dependency-free</li>
<li>Random selection of template-based parameters</li>
<li>High concurrency</li>
<li>Balanced traffic control at the benchmark end</li>
</ul>
<blockquote>
<p>Download URL: 
  <a href="http://release.infinilabs.com/loadgen/">http://release.infinilabs.com/loadgen/</a></p>
</blockquote>
<h2 id="loadgen">
  Loadgen
  <a class="anchor" href="#loadgen">#</a>
</h2>
<p>Loadgen is easy to use. After the tool is downloaded and decompressed, two files are obtained: one executable program and one configuration file <code>loadgen.yml</code>. An example of the configuration file is as follows:</p>
<pre><code>variables:
  - name: ip
    type: file
    path: test/ip.txt
  - name: user
    type: file
    path: test/user.txt
  - name: id
    type: sequence
  - name: uuid
    type: uuid
  - name: now_local
    type: now_local
  - name: now_utc
    type: now_utc
  - name: now_unix
    type: now_unix
requests:
  - request:
      method: GET
      basic_auth:
        username: elastic
        password: pass
      url: http://localhost:8000/medcl/_search
      body: '{  &quot;query&quot;: {&quot;match&quot;: {    &quot;name&quot;: &quot;$[[user]]&quot;  }}}'
</code></pre><h3 id="use-of-variables">
  Use of Variables
  <a class="anchor" href="#use-of-variables">#</a>
</h3>
<p>In the above configuration, <code>variables</code> is used to define variable parameters and variables are identified by <code>name</code>. In a constructed request, <code>$[[Variable name]]</code> can be used to access the value of the variable. Supported variable types are as follows:</p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>file</td>
<td>External variable parameter of the file type</td>
</tr>
<tr>
<td>sequence</td>
<td>Variable of the auto incremental numeric type</td>
</tr>
<tr>
<td>range</td>
<td>Variable of the range numbers, support parameters <code>from</code> and <code>to</code> to define the range</td>
</tr>
<tr>
<td>uuid</td>
<td>Variable of the UUID character type</td>
</tr>
<tr>
<td>now_local</td>
<td>Current time and local time zone</td>
</tr>
<tr>
<td>now_utc</td>
<td>Current time and UTC time zone</td>
</tr>
<tr>
<td>now_unix</td>
<td>Current time and Unix timestamp</td>
</tr>
<tr>
<td>now_with_format</td>
<td>Current time，support parameter <code>format</code> to customize the output format， eg: <code>2006-01-02T15:04:05-0700</code></td>
</tr>
</tbody>
</table>
<p>Variable parameters of the <code>file</code> type are loaded from an external text file. One variable parameter occupies one line. When one variable of the file type is accessed, one variable value is taken randomly. An example of the variable format is as follows:</p>
<pre><code>➜  loadgen git:(master) ✗ cat test/user.txt 
medcl
elastic
</code></pre><p>Tips about how to generate a random string of fixed length, such as 1024 per line:</p>
<pre><code>LC_CTYPE=C tr -dc A-Za-z0-9_\!\@\#\$\%\^\&amp;\*\(\)-+= &lt; /dev/random | head -c 1024 &gt;&gt; 1k.txt
</code></pre><h3 id="request-definition">
  Request Definition
  <a class="anchor" href="#request-definition">#</a>
</h3>
<p>The <code>requests</code> node is used to set requests to be executed by Loadgen in sequence. Loadgen supports fixed-parameter requests and requests constructed using template-based variable parameters. The following is an example of a common query request.</p>
<pre><code>requests:
  - request:
      method: GET
      basic_auth:
        username: elastic
        password: pass
      url: http://localhost:8000/medcl/_search?q=name:$[[user]]
</code></pre><p>In the above query, Loadgen conducts queries based on the <code>medcl</code> index and executes one query based on the <code>name</code> field. The value of each request is from the random variable <code>user</code>.</p>
<h3 id="cli-parameters">
  CLI Parameters
  <a class="anchor" href="#cli-parameters">#</a>
</h3>
<p>Loadgen cyclically executes requests defined in the configuration file. By default, Loadgen runs for <code>5s</code> and then automatically exits. If you want to prolong the running time or increase the concurrency, you can set the tool&rsquo;s startup parameters. The help commands are as follows:</p>
<pre><code>➜  loadgen git:(master) ✗ ./bin/loadgen --help
Usage of ./bin/loadgen:
  -c int
    	Number of concurrent threads (default 1)
  -compress
    	Compress requests with gzip
  -config string
    	the location of config file, default: loadgen.yml (default &quot;loadgen.yml&quot;)
  -d int
    	Duration of tests in seconds (default 5)
  -debug
    	run in debug mode, loadgen will quit with panic error
  -l int
    	Limit total requests (default -1)
  -log string
    	the log level,options:trace,debug,info,warn,error (default &quot;info&quot;)
  -r int
    	Max requests per second (fixed QPS) (default -1)
  -v	version
</code></pre><h3 id="benchmark-test">
  Benchmark Test
  <a class="anchor" href="#benchmark-test">#</a>
</h3>
<p>Run Loadgen to perform the benchmark test as follows:</p>
<pre><code>➜  loadgen git:(master) ✗ ./bin/loadgen -d 30 -c 100 -compress
   __   ___  _      ___  ___   __    __
  / /  /___\/_\    /   \/ _ \ /__\/\ \ \
 / /  //  ///_\\  / /\ / /_\//_\ /  \/ /
/ /__/ \_//  _  \/ /_// /_\\//__/ /\  /
\____|___/\_/ \_/___,'\____/\__/\_\ \/

[LOADGEN] A http load generator and testing suit.
[LOADGEN] 1.0.0_SNAPSHOT, 83f2cb9, Sun Jul 4 13:52:42 2021 +0800, medcl, support single item in dict files
[07-19 16:15:00] [INF] [instance.go:24] workspace: data/loadgen/nodes/0
[07-19 16:15:00] [INF] [loader.go:312] warmup started
[07-19 16:15:00] [INF] [app.go:306] loadgen now started.
[07-19 16:15:00] [INF] [loader.go:316] [GET] http://localhost:8000/medcl/_search
[07-19 16:15:00] [INF] [loader.go:317] status: 200,&lt;nil&gt;,{&quot;took&quot;:1,&quot;timed_out&quot;:false,&quot;_shards&quot;:{&quot;total&quot;:1,&quot;successful&quot;:1,&quot;skipped&quot;:0,&quot;failed&quot;:0},&quot;hits&quot;:{&quot;total&quot;:{&quot;value&quot;:0,&quot;relation&quot;:&quot;eq&quot;},&quot;max_score&quot;:null,&quot;hits&quot;:[]}}
[07-19 16:15:00] [INF] [loader.go:316] [GET] http://localhost:8000/medcl/_search?q=name:medcl
[07-19 16:15:00] [INF] [loader.go:317] status: 200,&lt;nil&gt;,{&quot;took&quot;:1,&quot;timed_out&quot;:false,&quot;_shards&quot;:{&quot;total&quot;:1,&quot;successful&quot;:1,&quot;skipped&quot;:0,&quot;failed&quot;:0},&quot;hits&quot;:{&quot;total&quot;:{&quot;value&quot;:0,&quot;relation&quot;:&quot;eq&quot;},&quot;max_score&quot;:null,&quot;hits&quot;:[]}}
[07-19 16:15:01] [INF] [loader.go:316] [POST] http://localhost:8000/_bulk
[07-19 16:15:01] [INF] [loader.go:317] status: 200,&lt;nil&gt;,{&quot;took&quot;:120,&quot;errors&quot;:false,&quot;items&quot;:[{&quot;index&quot;:{&quot;_index&quot;:&quot;medcl-y4&quot;,&quot;_type&quot;:&quot;doc&quot;,&quot;_id&quot;:&quot;c3qj9123r0okahraiej0&quot;,&quot;_version&quot;:1,&quot;result&quot;:&quot;created&quot;,&quot;_shards&quot;:{&quot;total&quot;:2,&quot;successful&quot;:1,&quot;failed&quot;:0},&quot;_seq_no&quot;:5735852,&quot;_primary_term&quot;:3,&quot;status&quot;:201}}]}
[07-19 16:15:01] [INF] [loader.go:325] warmup finished

5253 requests in 32.756483336s, 524.61KB sent, 2.49MB received

[Loadgen Client Metrics]
Requests/sec:		175.10
Request Traffic/sec:	17.49KB
Total Transfer/sec:	102.34KB
Avg Req Time:		5.711022ms
Fastest Request:	440.448µs
Slowest Request:	3.624302658s
Number of Errors:	0
Number of Invalid:	0
Status 200:		5253

[Estimated Server Metrics]
Requests/sec:		160.37
Transfer/sec:		93.73KB
Avg Req Time:		623.576686ms
</code></pre><p>Loadgen executes all requests once to warm up before the formal benchmark test. If an error occurs, a prompt is displayed, asking you whether to continue. The warm-up request results are also output to the terminal. After execution, an execution summary is output.</p>
<blockquote>
<p>The final results of Loadgen are the cumulative statistics after all requests are executed, and they may be inaccurate. You are advised to start the Kibana dashboard to check all operating indicators of Elasticsearch in real time.</p>
</blockquote>
<h3 id="simulating-bulk-ingestion">
  Simulating Bulk Ingestion
  <a class="anchor" href="#simulating-bulk-ingestion">#</a>
</h3>
<p>It is very easy to use Loadgen to simulate bulk ingestion. Configure one index operation in the request body and then use the <code>body_repeat_times</code> parameter to randomly replicate several parameterized requests to complete the preparation of a batch of requests. See the following example.</p>
<pre><code>  - request:
      method: POST
      basic_auth:
        username: test
        password: testtest
      url: http://localhost:8000/_bulk
      body_repeat_times: 1000
      body: &quot;{ \&quot;index\&quot; : { \&quot;_index\&quot; : \&quot;medcl-y4\&quot;,\&quot;_type\&quot;:\&quot;doc\&quot;, \&quot;_id\&quot; : \&quot;$[[uuid]]\&quot; } }\n{ \&quot;id\&quot; : \&quot;$[[id]]\&quot;,\&quot;field1\&quot; : \&quot;$[[user]]\&quot;,\&quot;ip\&quot; : \&quot;$[[ip]]\&quot;,\&quot;now_local\&quot; : \&quot;$[[now_local]]\&quot;,\&quot;now_unix\&quot; : \&quot;$[[now_unix]]\&quot; }\n&quot;
</code></pre><h3 id="limiting-the-client-workload">
  Limiting the Client Workload
  <a class="anchor" href="#limiting-the-client-workload">#</a>
</h3>
<p>You can use Loadgen and set the CLI parameter <code>-r</code> to restrict the number of requests that can be sent by the client per second, so as to evaluate the response time and load of Elasticsearch under fixed pressure. See the following example.</p>
<pre><code>➜  loadgen git:(master) ✗ ./bin/loadgen -d 30 -c 100 -r 100
</code></pre><blockquote>
<p>Note: The client throughput limit may not be accurate enough in the case of massive concurrencies.</p>
</blockquote>
<h3 id="limiting-the-total-number-of-requests">
  Limiting the Total Number of Requests
  <a class="anchor" href="#limiting-the-total-number-of-requests">#</a>
</h3>
<p>You can set the <code>-l</code> parameter to control the total number of requests that can be sent by the client, so as to generate a fixed number of documents. Modify the configuration as follows:</p>
<pre><code>requests:
  - request:
      method: POST
      basic_auth:
        username: test
        password: testtest
      url: http://localhost:8000/medcl-test/doc2/_bulk
      body_repeat_times: 1
      body: &quot;{ \&quot;index\&quot; : { \&quot;_index\&quot; : \&quot;medcl-test\&quot;, \&quot;_id\&quot; : \&quot;$[[uuid]]\&quot; } }\n{ \&quot;id\&quot; : \&quot;$[[id]]\&quot;,\&quot;field1\&quot; : \&quot;$[[user]]\&quot;,\&quot;ip\&quot; : \&quot;$[[ip]]\&quot; }\n&quot;
</code></pre><p>Configured parameters use the content of only one document for each request. Then, the system executes Loadgen.</p>
<pre><code>./bin/loadgen -config loadgen-gw.yml -d 600 -c 100 -l 50000
</code></pre><p>After execution, <code>50000</code> records are added for the Elasticsearch index <code>medcl-test</code>.</p>
<h3 id="using-auto-incremental-ids-to-ensure-the-document-sequence">
  Using Auto Incremental IDs to Ensure the Document Sequence
  <a class="anchor" href="#using-auto-incremental-ids-to-ensure-the-document-sequence">#</a>
</h3>
<p>If the IDs of generated documents need to increase regularly to facilitate comparison, you can use the auto incremental IDs of the <code>sequence</code> type as the primary key and avoid using random numbers in the content. See the following example.</p>
<pre><code>requests:
  - request:
      method: POST
      basic_auth:
        username: test
        password: testtest
      url: http://localhost:8000/medcl-test/doc2/_bulk
      body_repeat_times: 1
      body: &quot;{ \&quot;index\&quot; : { \&quot;_index\&quot; : \&quot;medcl-test\&quot;, \&quot;_id\&quot; : \&quot;$[[id]]\&quot; } }\n{ \&quot;id\&quot; : \&quot;$[[id]]\&quot; }\n&quot;
</code></pre><h3 id="reuse-variables-in-request-context">
  Reuse variables in Request Context
  <a class="anchor" href="#reuse-variables-in-request-context">#</a>
</h3>
<p>In a request, we might want use the same variable value, such as the <code>routing</code> parameter to control the shard destination, also store the field in the JSON document.
You can use <code>runtime_variables</code> to set request-level variables, or <code>runtime_body_line_variables</code> to define request-body-level variables.
If the request body set <code>body_repeat_times</code>, each line will be different, as shown in the following example:</p>
<pre><code>variables:
  - name: id
    type: sequence
  - name: uuid
    type: uuid
  - name: now_local
    type: now_local
  - name: now_utc
    type: now_utc
  - name: now_unix
    type: now_unix
  - name: suffix
    type: range
    from: 10
    to: 15
requests:
  - request:
      method: POST
      runtime_variables:
        batch_no: id
      runtime_body_line_variables:
        routing_no: uuid
      basic_auth:
        username: ingest
        password: password
      #url: http://localhost:8000/_search?q=$[[id]]
      url: http://192.168.3.188:9206/_bulk
      body_repeat_times: 10
      body: &quot;{ \&quot;create\&quot; : { \&quot;_index\&quot; : \&quot;test-$[[suffix]]\&quot;,\&quot;_type\&quot;:\&quot;doc\&quot;, \&quot;_id\&quot; : \&quot;$[[uuid]]\&quot; , \&quot;routing\&quot; : \&quot;$[[routing_no]]\&quot; } }\n{ \&quot;id\&quot; : \&quot;$[[uuid]]\&quot;,\&quot;routing_no\&quot; : \&quot;$[[routing_no]]\&quot;,\&quot;batch_number\&quot; : \&quot;$[[batch_no]]\&quot;, \&quot;random_no\&quot; : \&quot;$[[suffix]]\&quot;,\&quot;ip\&quot; : \&quot;$[[ip]]\&quot;,\&quot;now_local\&quot; : \&quot;$[[now_local]]\&quot;,\&quot;now_unix\&quot; : \&quot;$[[now_unix]]\&quot; }\n&quot;
</code></pre><p>We defined the <code>batch_no</code> variable to represent the same batch number in a batch of documents, and the <code>routing_no</code> variable to represent the routing value at each document level.</p>
</article>
 
        

        <footer class="book-footer">
          
  <div class="flex flex-wrap justify-between">
  






  <script>
    (function(h,o,t,j,a,r){
      h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
      h._hjSettings={hjid:2716856,hjsv:6};
      a=o.getElementsByTagName('head')[0];
      r=o.createElement('script');r.async=1;
      r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
      a.appendChild(r);
    })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
  </script>


  
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-L0XH1C4CVP"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-L0XH1C4CVP');
  </script>

  
<script type="text/javascript">
    var _smartsupp = _smartsupp || {};
    _smartsupp.key = '691ff544d18a237005a011a7290b839d8fe811a4';
    window.smartsupp||(function(d) {
      var s,c,o=smartsupp=function(){ o._.push(arguments)};o._=[];
      s=d.getElementsByTagName('script')[0];c=d.createElement('script');
      c.type='text/javascript';c.charset='utf-8';c.async=true;
      c.src='https://www.smartsuppchat.com/loader.js?';s.parentNode.insertBefore(c,s);
    })(document);
  </script>

</div>

 
          
        </footer>

        
  
 

        <label for="menu-control" class="hidden book-menu-overlay"></label>
      </div>

      
      <aside class="book-toc">
        
  <nav id="TableOfContents">
  <ul>
    <li><a href="#benchmark-testing">Benchmark Testing</a>
      <ul>
        <li><a href="#loadgen">Loadgen</a>
          <ul>
            <li><a href="#use-of-variables">Use of Variables</a></li>
            <li><a href="#request-definition">Request Definition</a></li>
            <li><a href="#cli-parameters">CLI Parameters</a></li>
            <li><a href="#benchmark-test">Benchmark Test</a></li>
            <li><a href="#simulating-bulk-ingestion">Simulating Bulk Ingestion</a></li>
            <li><a href="#limiting-the-client-workload">Limiting the Client Workload</a></li>
            <li><a href="#limiting-the-total-number-of-requests">Limiting the Total Number of Requests</a></li>
            <li><a href="#using-auto-incremental-ids-to-ensure-the-document-sequence">Using Auto Incremental IDs to Ensure the Document Sequence</a></li>
            <li><a href="#reuse-variables-in-request-context">Reuse variables in Request Context</a></li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav>

 
      </aside>
      
    </main>

    

    

  </div>

  <div class="common-footer resize-padding">
  <div class="top">
    
    <dl class="menu-item">
      <dt>产品</dt>
      
        
          <dd>
            
            <a href="#" target="_self">
              INFINI Search
            </a>
          </dd>
        
          <dd>
            
            <a href="#" target="_self">
              INFINI Scale
            </a>
          </dd>
        
          <dd>
            
            <a href="/products/gateway" target="_self">
              INFINI Gateway
            </a>
          </dd>
        
          <dd>
            
            <a href="/products/console" target="_self">
              INFINI Console
            </a>
          </dd>
        
      
    </dl>
  
    <dl class="menu-item">
      <dt>解决方案</dt>
      
        
          <dd>
            
            <a href="#" target="_self">
              实时搜索引擎
            </a>
          </dd>
        
          <dd>
            
            <a href="#" target="_self">
              查询优化分析
            </a>
          </dd>
        
          <dd>
            
            <a href="#" target="_self">
              异地容灾建设
            </a>
          </dd>
        
          <dd>
            
            <a href="#" target="_self">
              搜索平台建设
            </a>
          </dd>
        
      
    </dl>
  
    <dl class="menu-item">
      <dt>支持</dt>
      
        
          <dd>
            
            <a href="/support" target="_self">
              常见问题
            </a>
          </dd>
        
          <dd>
            
            <a href="/support" target="_self">
              动手教程
            </a>
          </dd>
        
          <dd>
            
            <a href="/support" target="_self">
              文档中心
            </a>
          </dd>
        
          <dd>
            
            <a href="/download" target="_self">
              下载中心
            </a>
          </dd>
        
      
    </dl>
  
    <dl class="menu-item">
      <dt>关于我们</dt>
      
        
          <dd>
            
            <a href="/company" target="_self">
              公司简介
            </a>
          </dd>
        
          <dd>
            
            <a href="/company" target="_self">
              联系我们
            </a>
          </dd>
        
          <dd>
            
            <a href="/career" target="_self">
              工作机会
            </a>
          </dd>
        
      
    </dl>
  
  <div class="others">
    <div class="contact">
      <span class="item">
        <img src="/img/footer/phone.svg" />
        <span>400-139-9200</span>
      </span>
      <a class="item" href="mailto://hello@infini.ltd" target="_blank">
        <img src="/img/footer/email.svg" />
        <span>hello@infini.ltd</span>
      </a>
    </div>
    <div class="logos">
      <a class="item infini-tooltip">
        <img src="/img/footer/wechat.svg" />
        <div class="infini-tooltip-content">
          <img
            class="tooltip-wechart-qrcode"
            src="/img/footer/wechat_qrcode_infini_labs.jpg"
          />
        </div>
      </a>
      <a
          href="https://space.bilibili.com/1171585214"
          target="_blank"
        >
          <img src="/img/footer/bilibili.svg" />
      </a>
      <a href="https://twitter.com/infinilabs" target="_blank">
          <img src="/img/footer/twitter.svg" />
      </a>
      <a href="https://github.com/infinilabs" target="_blank">
          <img src="/img/footer/github.svg" />
      </a>
    </div>
  </div>
  </div>
  <div class="bottom">
    <div class="copy-right">
      <a href="/" class="logo"></a>
      <span class="text">Copyright &copy; 2022 INFINI Labs </span>
    </div>
    <button class="lang">
      <img src="/img/footer/lang.svg" />
      <span>&nbsp;中文</span>
    </button>
  </div>
</div>

  <script>
    function onDocsMenuClick(id) {
      const icon = document.getElementById(`${id}-arrow`);
      if (icon.getAttribute("src").includes("down")) {
        icon.src = "/img/docs/arrow-right.png"
      } else {
        icon.src = "/img/docs/arrow-down.png"
      }
    }
  </script>

</body>

</html>












